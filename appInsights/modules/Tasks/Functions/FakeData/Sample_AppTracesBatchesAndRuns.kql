let startDate=iff(isempty(startDay),now(),startDay);
let myTraces = datatable(DaysAgo:int, TimeOfDay:timespan, Message:string, AppRoleName:string,Properties:dynamic) [ 3,'01:00:00','Tasks started batch','Tasks',dynamic({'batch_id':'101','run_id': 101001,'device_id':'AA11','iteration': 1}), 3,'01:00:02','Tasks started run','Tasks',dynamic({'batch_id':'101','run_id': 101001,'device_id':'AA11','iteration': 1}), 3,'01:04:17','Tasks completed run','Tasks',dynamic({'batch_id':'101','run_id': 101001,'device_id':'AA11','iteration': 1}), 3,'01:04:18','Tasks completed batch','Tasks',dynamic({'batch_id':'101','run_id': 101001,'device_id':'AA11','iteration': 1,'duration': 258}), 2,'01:00:00','Tasks started batch','Tasks',dynamic({'batch_id':'102','run_id': 102001,'device_id':'AA11','iteration': 1}), 2,'01:00:01','Tasks started run','Tasks',dynamic({'batch_id':'102','run_id': 102001,'device_id':'AA11','iteration': 1}), 2,'01:03:00','Tasks completed run','Tasks',dynamic({'batch_id':'102','run_id': 102001,'device_id':'AA11','iteration': 1}), 2,'01:03:01','Tasks completed batch','Tasks',dynamic({'batch_id':'102','run_id': 102001,'device_id':'AA11','iteration': 1,'duration': 181}), 1,'01:00:00','Tasks started batch','Tasks',dynamic({'batch_id':'103','run_id': 103001,'device_id':'AA11','iteration': 1}), 1,'01:00:01','Tasks started run','Tasks',dynamic({'batch_id':'103','run_id': 103001,'device_id':'AA11','iteration': 1}), 1,'01:03:08','Tasks completed run','Tasks',dynamic({'batch_id':'103','run_id': 103001,'device_id':'AA11','iteration': 1}), 1,'01:03:10','Tasks completed batch','Tasks',dynamic({'batch_id':'103','run_id': 103001,'device_id':'AA11','iteration': 1,'duration': 190}), 3,'02:00:00','Tasks started batch','Tasks',dynamic({'batch_id':'201','run_id': 201001,'device_id':'BB22','iteration': 1}), 3,'02:00:01','Tasks started run','Tasks',dynamic({'batch_id':'201','run_id': 201001,'device_id':'BB22','iteration': 1}), 3,'02:02:53','Tasks completed run','Tasks',dynamic({'batch_id':'201','run_id': 201001,'device_id':'BB22','iteration': 1}), 3,'02:02:54','Tasks completed batch','Tasks',dynamic({'batch_id':'201','run_id': 201001,'device_id':'BB22','iteration': 1,'duration': 174}), 2,'02:00:00','Tasks started batch','Tasks',dynamic({'batch_id':'202','run_id': 202001,'device_id':'BB22','iteration': 1}), 2,'02:00:01','Tasks started run','Tasks',dynamic({'batch_id':'202','run_id': 202001,'device_id':'BB22','iteration': 1}), 2,'02:00:15','Tasks failed run','Tasks',dynamic({'batch_id':'202','run_id': 202001,'device_id':'BB22','iteration': 1}), 2,'02:00:21','Tasks started run','Tasks',dynamic({'batch_id':'202','run_id': 202002,'device_id':'BB22','iteration': 2}), 2,'02:00:28','Tasks failed run','Tasks',dynamic({'batch_id':'202','run_id': 202002,'device_id':'BB22','iteration': 2}), 2,'02:00:35','Tasks started run','Tasks',dynamic({'batch_id':'202','run_id': 202003,'device_id':'BB22','iteration': 3}), 2,'02:01:05','Tasks failed run','Tasks',dynamic({'batch_id':'202','run_id': 202003,'device_id':'BB22','iteration': 3}), 2,'02:01:06','Tasks failed batch','Tasks',dynamic({'batch_id':'202','run_id': 202003,'device_id':'BB22','iteration': 3,'duration': 66}), 1,'02:05:00','Tasks started batch','Tasks',dynamic({'batch_id':'203','run_id': 203001,'device_id':'BB22','iteration': 1,'original_batch_id':'202','is_manual_run':'WAAR'}), 1,'02:05:03','Tasks started run','Tasks',dynamic({'batch_id':'203','run_id': 203001,'device_id':'BB22','iteration': 1}), 1,'02:05:14','Tasks failed run','Tasks',dynamic({'batch_id':'203','run_id': 203001,'device_id':'BB22','iteration': 1}), 1,'02:05:24','Tasks started batch','Tasks',dynamic({'batch_id':'203','run_id': 203002,'device_id':'BB22','iteration': 2}), 1,'02:06:40','Tasks started run','Tasks',dynamic({'batch_id':'203','run_id': 203002,'device_id':'BB22','iteration': 2}), 1,'02:06:41','Tasks completed batch','Tasks',dynamic({'batch_id':'203','run_id': 203002,'device_id':'BB22','iteration': 2,'original_batch_id':'202','duration': 101}), 1,'12:14:00','Tasks started batch','Tasks',dynamic({'batch_id':'204','run_id': 204001,'device_id':'BB22','iteration': 1}), 1,'12:14:01','Tasks started run','Tasks',dynamic({'batch_id':'204','run_id': 204001,'device_id':'BB22','iteration': 1}), 1,'12:22:43','Tasks completed run','Tasks',dynamic({'batch_id':'204','run_id': 204001,'device_id':'BB22','iteration': 1}), 1,'12:22:44','Tasks completed batch','Tasks',dynamic({'batch_id':'204','run_id': 204001,'device_id':'BB22','iteration': 1,'duration': 524}), 3,'03:52:00','Tasks started batch','Tasks',dynamic({'batch_id':'301','run_id': 301001,'device_id':'CC33','iteration': 1}), 3,'03:52:01','Tasks started run','Tasks',dynamic({'batch_id':'301','run_id': 301001,'device_id':'CC33','iteration': 1}), 3,'03:59:37','Tasks completed run','Tasks',dynamic({'batch_id':'301','run_id': 301001,'device_id':'CC33','iteration': 1}), 3,'03:59:38','Tasks completed batch','Tasks',dynamic({'batch_id':'301','run_id': 301001,'device_id':'CC33','iteration': 1,'duration': 458}), 2,'03:12:20','Tasks started batch','Tasks',dynamic({'batch_id':'302','run_id': 302001,'device_id':'CC33','iteration': 1}), 2,'03:12:21','Tasks started run','Tasks',dynamic({'batch_id':'302','run_id': 302001,'device_id':'CC33','iteration': 1}), 2,'03:15:27','Tasks completed run','Tasks',dynamic({'batch_id':'302','run_id': 302001,'device_id':'CC33','iteration': 1}), 2,'03:15:28','Tasks completed batch','Tasks',dynamic({'batch_id':'302','run_id': 302001,'device_id':'CC33','iteration': 1,'duration': 188}), 3,'04:00:00','Tasks started batch','Tasks',dynamic({'batch_id':'401','run_id': 401001,'device_id':'DD44','iteration': 1}), 3,'04:00:01','Tasks started run','Tasks',dynamic({'batch_id':'401','run_id': 401001,'device_id':'DD44','iteration': 1}), 3,'04:03:40','Tasks completed run','Tasks',dynamic({'batch_id':'401','run_id': 401001,'device_id':'DD44','iteration': 1}), 3,'04:03:41','Tasks completed batch','Tasks',dynamic({'batch_id':'401','run_id': 401001,'device_id':'DD44','iteration': 1,'duration': 221}), 3,'04:13:33','Tasks started batch','Tasks',dynamic({'batch_id':'402','run_id': 402001,'device_id':'DD44','iteration': 1}), 3,'04:13:34','Tasks started run','Tasks',dynamic({'batch_id':'402','run_id': 402001,'device_id':'DD44','iteration': 1}), 3,'04:16:27','Tasks completed run','Tasks',dynamic({'batch_id':'402','run_id': 402001,'device_id':'DD44','iteration': 1}), 3,'04:16:28','Tasks completed batch','Tasks',dynamic({'batch_id':'402','run_id': 402001,'device_id':'DD44','iteration': 1,'duration': 175}), 3,'14:05:09','Tasks started batch','Tasks',dynamic({'batch_id':'403','run_id': 403001,'device_id':'DD44','iteration': 1}), 3,'14:05:10','Tasks started run','Tasks',dynamic({'batch_id':'403','run_id': 403001,'device_id':'DD44','iteration': 1}), 3,'14:14:02','Tasks completed run','Tasks',dynamic({'batch_id':'403','run_id': 403001,'device_id':'DD44','iteration': 1}), 3,'14:14:03','Tasks completed batch','Tasks',dynamic({'batch_id':'403','run_id': 403001,'device_id':'DD44','iteration': 1,'duration': 534}), 2,'04:03:01','Tasks started batch','Tasks',dynamic({'batch_id':'404','run_id': 404001,'device_id':'DD44','iteration': 1}), 2,'04:03:02','Tasks started run','Tasks',dynamic({'batch_id':'404','run_id': 404001,'device_id':'DD44','iteration': 1}), 2,'04:14:51','Tasks completed run','Tasks',dynamic({'batch_id':'404','run_id': 404001,'device_id':'DD44','iteration': 1}), 2,'04:14:52','Tasks completed batch','Tasks',dynamic({'batch_id':'404','run_id': 404001,'device_id':'DD44','iteration': 1,'duration': 248}), 2,'14:03:22','Tasks started batch','Tasks',dynamic({'batch_id':'405','run_id': 405001,'device_id':'DD44','iteration': 1}), 2,'14:03:23','Tasks started run','Tasks',dynamic({'batch_id':'405','run_id': 405001,'device_id':'DD44','iteration': 1}), 2,'14:09:07','Tasks completed run','Tasks',dynamic({'batch_id':'405','run_id': 405001,'device_id':'DD44','iteration': 1}), 2,'14:09:08','Tasks completed batch','Tasks',dynamic({'batch_id':'405','run_id': 405001,'device_id':'DD44','iteration': 1,'duration': 346}), 2,'14:50:47','Tasks started batch','Tasks',dynamic({'batch_id':'406','run_id': 406001,'device_id':'DD44','iteration': 1}), 2,'14:50:48','Tasks started run','Tasks',dynamic({'batch_id':'406','run_id': 406001,'device_id':'DD44','iteration': 1}), 2,'14:54:54','Tasks completed run','Tasks',dynamic({'batch_id':'406','run_id': 406001,'device_id':'DD44','iteration': 1}), 2,'14:54:55','Tasks completed batch','Tasks',dynamic({'batch_id':'406','run_id': 406001,'device_id':'DD44','iteration': 1,'duration': 248}), 1,'04:00:01','Tasks started batch','Tasks',dynamic({'batch_id':'407','run_id': 407001,'device_id':'DD44','iteration': 1}), 1,'04:00:02','Tasks started run','Tasks',dynamic({'batch_id':'407','run_id': 407001,'device_id':'DD44','iteration': 1}), 1,'04:01:23','Tasks failed run','Tasks',dynamic({'batch_id':'407','run_id': 407001,'device_id':'DD44','iteration': 1}), 1,'04:01:51','Tasks started run','Tasks',dynamic({'batch_id':'407','run_id': 407002,'device_id':'DD44','iteration': 2}), 1,'04:02:41','Tasks failed run','Tasks',dynamic({'batch_id':'407','run_id': 407002,'device_id':'DD44','iteration': 2}), 3,'05:00:03','Tasks started batch','Tasks',dynamic({'batch_id':'501','run_id': 501001,'device_id':'EE55','iteration': 1}), 3,'05:00:04','Tasks started run','Tasks',dynamic({'batch_id':'501','run_id': 501001,'device_id':'EE55','iteration': 1}), 3,'05:12:40','Tasks completed run','Tasks',dynamic({'batch_id':'501','run_id': 501001,'device_id':'EE55','iteration': 1}), 3,'05:12:41','Tasks completed batch','Tasks',dynamic({'batch_id':'501','run_id': 501001,'device_id':'EE55','iteration': 1,'duration': 758}), 2,'05:04:05','Tasks started batch','Tasks',dynamic({'batch_id':'502','run_id': 502001,'device_id':'EE55','iteration': 1}), 2,'05:04:06','Tasks started run','Tasks',dynamic({'batch_id':'502','run_id': 502001,'device_id':'EE55','iteration': 1}), 2,'06:23:55','Tasks completed run','Tasks',dynamic({'batch_id':'502','run_id': 502001,'device_id':'EE55','iteration': 1}), 2,'06:23:56','Tasks completed batch','Tasks',dynamic({'batch_id':'502','run_id': 502001,'device_id':'EE55','iteration': 1,'duration': 4791}), 1,'05:35:12','Tasks started batch','Tasks',dynamic({'batch_id':'503','run_id': 503001,'device_id':'EE55','iteration': 1}), 1,'05:35:14','Tasks started run','Tasks',dynamic({'batch_id':'503','run_id': 503001,'device_id':'EE55','iteration': 1}), 1,'05:41:25','Tasks completed run','Tasks',dynamic({'batch_id':'503','run_id': 503001,'device_id':'EE55','iteration': 1}), 1,'05:41:28','Tasks completed batch','Tasks',dynamic({'batch_id':'503','run_id': 503001,'device_id':'EE55','iteration': 1,'duration': 376}), 1,'05:54:22','Tasks started batch','Tasks',dynamic({'batch_id':'504','run_id': 504001,'device_id':'EE55','iteration': 1,'original_batch_id':'503','is_manual_run':'WAAR'}), 1,'05:54:26','Tasks started run','Tasks',dynamic({'batch_id':'504','run_id': 504001,'device_id':'EE55','iteration': 1}), 1,'05:57:28','Tasks completed run','Tasks',dynamic({'batch_id':'504','run_id': 504001,'device_id':'EE55','iteration': 1}), 1,'05:57:31','Tasks completed batch','Tasks',dynamic({'batch_id':'504','run_id': 504001,'device_id':'EE55','iteration': 1,'original_batch_id':'503','duration': 189}), 1,'06:15:43','Tasks started batch','Tasks',dynamic({'batch_id':'505','run_id': 505001,'device_id':'EE55','iteration': 1}), 1,'06:15:44','Tasks started run','Tasks',dynamic({'batch_id':'505','run_id': 505001,'device_id':'EE55','iteration': 1}), 1,'06:15:58','Tasks failed run','Tasks',dynamic({'batch_id':'505','run_id': 505001,'device_id':'EE55','iteration': 1}), 1,'06:16:01','Tasks started run','Tasks',dynamic({'batch_id':'505','run_id': 505002,'device_id':'EE55','iteration': 2}), 1,'06:16:34','Tasks failed run','Tasks',dynamic({'batch_id':'505','run_id': 505002,'device_id':'EE55','iteration': 2}), 1,'06:16:14','Tasks started run','Tasks',dynamic({'batch_id':'505','run_id': 505003,'device_id':'EE55','iteration': 3}), 1,'06:16:56','Tasks failed run','Tasks',dynamic({'batch_id':'505','run_id': 505003,'device_id':'EE55','iteration': 3}), 1,'06:16:57','Tasks failed batch','Tasks',dynamic({'batch_id':'505','run_id': 505003,'device_id':'EE55','iteration': 3,'duration': 74}), 3,'06:02:31','Tasks started batch','Tasks',dynamic({'batch_id':'601','run_id': 601001,'device_id':'FF66','iteration': 1}), 3,'06:02:32','Tasks started run','Tasks',dynamic({'batch_id':'601','run_id': 601001,'device_id':'FF66','iteration': 1}), 3,'06:09:58','Tasks completed run','Tasks',dynamic({'batch_id':'601','run_id': 601001,'device_id':'FF66','iteration': 1}), 3,'06:09:59','Tasks completed batch','Tasks',dynamic({'batch_id':'601','run_id': 601001,'device_id':'FF66','iteration': 1,'duration': 448}), 2,'06:15:43','Tasks started batch','Tasks',dynamic({'batch_id':'602','run_id': 602001,'device_id':'FF66','iteration': 1}), 2,'06:15:44','Tasks started run','Tasks',dynamic({'batch_id':'602','run_id': 602001,'device_id':'FF66','iteration': 1}), 2,'06:15:58','Tasks failed run','Tasks',dynamic({'batch_id':'602','run_id': 602001,'device_id':'FF66','iteration': 1}), 2,'06:16:01','Tasks started run','Tasks',dynamic({'batch_id':'602','run_id': 602002,'device_id':'FF66','iteration': 2}), 2,'06:16:34','Tasks failed run','Tasks',dynamic({'batch_id':'602','run_id': 602002,'device_id':'FF66','iteration': 2}), 2,'06:16:14','Tasks started run','Tasks',dynamic({'batch_id':'602','run_id': 602003,'device_id':'FF66','iteration': 3}), 2,'06:16:56','Tasks failed run','Tasks',dynamic({'batch_id':'602','run_id': 602003,'device_id':'FF66','iteration': 3}), 2,'06:16:59','Tasks failed batch','Tasks',dynamic({'batch_id':'602','run_id': 602003,'device_id':'FF66','iteration': 3,'duration': 76}), 1,'06:28:33','Tasks started batch','Tasks',dynamic({'batch_id':'603','run_id': 603001,'device_id':'FF66','iteration': 1}), 1,'06:28:35','Tasks started run','Tasks',dynamic({'batch_id':'603','run_id': 603001,'device_id':'FF66','iteration': 1}), 1,'06:31:31','Tasks completed run','Tasks',dynamic({'batch_id':'603','run_id': 603001,'device_id':'FF66','iteration': 1}), 1,'06:31:32','Tasks completed batch','Tasks',dynamic({'batch_id':'603','run_id': 603001,'device_id':'FF66','iteration': 1,'duration': 179}), 2,'07:01:47','Tasks started batch','Tasks',dynamic({'batch_id':'701','run_id': 701001,'device_id':'GG77','iteration': 1}), 2,'07:01:48','Tasks started run','Tasks',dynamic({'batch_id':'701','run_id': 701001,'device_id':'GG77','iteration': 1}), 2,'07:29:22','Tasks completed run','Tasks',dynamic({'batch_id':'701','run_id': 701001,'device_id':'GG77','iteration': 1}), 2,'07:29:25','Tasks completed batch','Tasks',dynamic({'batch_id':'701','run_id': 701001,'device_id':'GG77','iteration': 1,'duration': 1658}), 2,'08:05:43','Tasks started batch','Tasks',dynamic({'batch_id':'801','run_id': 801001,'device_id':'HH88','iteration': 1}), 2,'08:05:44','Tasks started run','Tasks',dynamic({'batch_id':'801','run_id': 801001,'device_id':'HH88','iteration': 1}), 2,'08:05:58','Tasks failed run','Tasks',dynamic({'batch_id':'801','run_id': 801001,'device_id':'HH88','iteration': 1}), 2,'08:06:01','Tasks started run','Tasks',dynamic({'batch_id':'801','run_id': 801002,'device_id':'HH88','iteration': 2}), 2,'08:06:34','Tasks failed run','Tasks',dynamic({'batch_id':'801','run_id': 801002,'device_id':'HH88','iteration': 2}), 2,'08:06:14','Tasks started run','Tasks',dynamic({'batch_id':'801','run_id': 801003,'device_id':'HH88','iteration': 3}), 2,'08:06:56','Tasks failed run','Tasks',dynamic({'batch_id':'801','run_id': 801003,'device_id':'HH88','iteration': 3}), 2,'08:06:59','Tasks failed batch','Tasks',dynamic({'batch_id':'801','run_id': 801003,'device_id':'HH88','iteration': 3,'duration': 76}), 2,'08:15:43','Tasks started batch','Tasks',dynamic({'batch_id':'802','run_id': 802001,'device_id':'HH88','iteration': 1}), 2,'08:15:44','Tasks started run','Tasks',dynamic({'batch_id':'802','run_id': 802001,'device_id':'HH88','iteration': 1}), 2,'08:15:58','Tasks failed run','Tasks',dynamic({'batch_id':'802','run_id': 802001,'device_id':'HH88','iteration': 1}), 2,'08:16:01','Tasks started run','Tasks',dynamic({'batch_id':'802','run_id': 802002,'device_id':'HH88','iteration': 2}), 2,'08:16:34','Tasks failed run','Tasks',dynamic({'batch_id':'802','run_id': 802002,'device_id':'HH88','iteration': 2}), 2,'08:16:14','Tasks started run','Tasks',dynamic({'batch_id':'802','run_id': 802003,'device_id':'HH88','iteration': 3}), 2,'08:16:56','Tasks failed run','Tasks',dynamic({'batch_id':'802','run_id': 802003,'device_id':'HH88','iteration': 3}), 2,'08:16:59','Tasks failed batch','Tasks',dynamic({'batch_id':'802','run_id': 802003,'device_id':'HH88','iteration': 3,'duration': 76}), 3,'09:05:43','Tasks started batch','Tasks',dynamic({'batch_id':'901','run_id': 901001,'device_id':'II99','iteration': 1}), 3,'09:05:44','Tasks started run','Tasks',dynamic({'batch_id':'901','run_id': 901001,'device_id':'II99','iteration': 1}), 3,'09:05:58','Tasks failed run','Tasks',dynamic({'batch_id':'901','run_id': 901001,'device_id':'II99','iteration': 1}), 3,'09:06:01','Tasks started run','Tasks',dynamic({'batch_id':'901','run_id': 901002,'device_id':'II99','iteration': 2}), 3,'09:06:34','Tasks failed run','Tasks',dynamic({'batch_id':'901','run_id': 901002,'device_id':'II99','iteration': 2}), 3,'09:06:14','Tasks started run','Tasks',dynamic({'batch_id':'901','run_id': 901003,'device_id':'II99','iteration': 3}), 3,'09:06:56','Tasks failed run','Tasks',dynamic({'batch_id':'901','run_id': 901003,'device_id':'II99','iteration': 3}), 3,'09:06:59','Tasks failed batch','Tasks',dynamic({'batch_id':'901','run_id': 901003,'device_id':'II99','iteration': 3,'duration': 76}), 1,'09:15:43','Tasks started batch','Tasks',dynamic({'batch_id':'902','run_id': 902001,'device_id':'II99','iteration': 1}), 1,'09:15:44','Tasks started run','Tasks',dynamic({'batch_id':'902','run_id': 902001,'device_id':'II99','iteration': 1}), 1,'09:15:58','Tasks failed run','Tasks',dynamic({'batch_id':'902','run_id': 902001,'device_id':'II99','iteration': 1}), 1,'09:16:01','Tasks started run','Tasks',dynamic({'batch_id':'902','run_id': 902002,'device_id':'II99','iteration': 2}), 1,'09:16:34','Tasks failed run','Tasks',dynamic({'batch_id':'902','run_id': 902002,'device_id':'II99','iteration': 2}), 1,'09:16:14','Tasks started run','Tasks',dynamic({'batch_id':'902','run_id': 902003,'device_id':'II99','iteration': 3}), 1,'09:16:56','Tasks failed run','Tasks',dynamic({'batch_id':'902','run_id': 902003,'device_id':'II99','iteration': 3}), 1,'09:16:59','Tasks failed batch','Tasks',dynamic({'batch_id':'902','run_id': 902003,'device_id':'II99','iteration': 3,'duration': 76}) ];myTraces | extend TimeGenerated=datetime_add('day',DaysAgo*-1,startDate)+TimeOfDay | project TimeGenerated, Message,AppRoleName, Properties
